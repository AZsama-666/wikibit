<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wiki Risk Portal</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: ui-sans-serif, system-ui, "PingFang SC", "Microsoft YaHei", sans-serif;
        }
        /* WEB3风格渐变背景 */
        .web3-bg {
            background: linear-gradient(135deg, #0f0c29 0%, #302b63 25%, #24243e 50%, #1a1a2e 75%, #16213e 100%);
            background-size: 400% 400%;
            animation: gradientShift 15s ease infinite;
        }
        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        /* 毛玻璃效果 */
        .glass {
            background: rgba(255, 255, 255, 0.08);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        .glass-strong {
            background: rgba(255, 255, 255, 0.12);
            backdrop-filter: blur(30px);
            -webkit-backdrop-filter: blur(30px);
            border: 1px solid rgba(255, 255, 255, 0.15);
        }
        /* 霓虹光晕效果 */
        .neon-glow {
            box-shadow: 0 0 20px rgba(139, 92, 246, 0.3), 0 0 40px rgba(139, 92, 246, 0.2), 0 0 60px rgba(139, 92, 246, 0.1);
        }
        .neon-glow-hover:hover {
            box-shadow: 0 0 30px rgba(139, 92, 246, 0.5), 0 0 60px rgba(139, 92, 246, 0.3), 0 0 90px rgba(139, 92, 246, 0.2);
            transition: box-shadow 0.3s ease;
        }
        /* 渐变文字 */
        .gradient-text {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        .gradient-text-blue {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        /* WEB3按钮 */
        .btn-web3 {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
            transition: all 0.3s ease;
        }
        .btn-web3:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.6);
        }
    </style>
</head>
<body class="web3-bg text-white min-h-screen">
    <!-- Navbar -->
    <nav class="glass-strong sticky top-0 z-50 border-b border-white/10">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <a href="javascript:void(0)" onclick="showHome()" class="flex items-center space-x-2 group">
                    <span class="text-xl font-bold gradient-text group-hover:scale-105 transition-transform">Wiki Risk Portal</span>
                </a>
                <div class="flex-1 max-w-lg mx-8">
                    <div class="relative">
                        <input
                            type="text"
                            placeholder="搜索交易所名称、别名或标签..."
                            class="w-full pl-10 pr-4 py-2 glass rounded-xl border border-white/20 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-purple-500/50 focus:border-purple-400/50"
                        />
                    </div>
                </div>
                <div class="flex items-center space-x-4">
                    <a href="javascript:void(0)" onclick="showRankings()" class="px-4 py-2 text-white/80 hover:text-white hover:bg-white/10 rounded-lg transition-all">
                        Exchanges
                    </a>
                    <button class="px-4 py-2 text-white/80 hover:text-white hover:bg-white/10 rounded-lg transition-all">
                        Method
                    </button>
                    <button class="px-4 py-2 text-white/80 hover:text-white hover:bg-white/10 rounded-lg transition-all">
                        About
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content Container -->
    <div id="mainContent" class="min-h-screen">
        <!-- Home Content -->
        <div id="homeContent">
            <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-16">
                <!-- Hero Section -->
                <div class="text-center mb-16">
                    <h1 class="text-5xl font-bold text-white mb-6">
                        Web3 实体排名，从规模转向可验证的风险与质量
                    </h1>
                    <p class="text-xl text-white/70 mb-8">
                        Proof（可验证） / Ledger（可追溯） / Signals（可预警）
                    </p>
                    <button onclick="showRankings()" class="inline-flex items-center px-8 py-4 btn-web3 text-white rounded-xl font-semibold neon-glow-hover">
                        查看交易所榜单
                        <svg class="ml-2 h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                        </svg>
                    </button>
                </div>

                <!-- 今日风险速览 -->
                <div class="glass-strong rounded-2xl p-8 mb-8 neon-glow">
                    <h2 class="text-2xl font-semibold text-white mb-6">今日风险速览</h2>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                        <div class="glass rounded-xl p-6 border border-white/10 hover:border-red-400/50 transition-all neon-glow-hover">
                            <div class="flex items-start space-x-4">
                                <div class="p-3 bg-gradient-to-br from-red-500/20 to-pink-500/20 rounded-xl border border-red-400/30">
                                    <svg class="h-6 w-6 text-red-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"></path>
                                    </svg>
                                </div>
                                <div>
                                    <p class="text-sm text-white/60">活跃风险事件</p>
                                    <p class="text-3xl font-bold text-white">12</p>
                                </div>
                            </div>
                        </div>
                        <div class="glass rounded-xl p-6 border border-white/10 hover:border-yellow-400/50 transition-all neon-glow-hover">
                            <div class="flex items-start space-x-4">
                                <div class="p-3 bg-gradient-to-br from-yellow-500/20 to-orange-500/20 rounded-xl border border-yellow-400/30">
                                    <svg class="h-6 w-6 text-yellow-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"></path>
                                    </svg>
                                </div>
                                <div>
                                    <p class="text-sm text-white/60">待验证交易所</p>
                                    <p class="text-3xl font-bold text-white">8</p>
                                </div>
                            </div>
                        </div>
                        <div class="glass rounded-xl p-6 border border-white/10 hover:border-green-400/50 transition-all neon-glow-hover">
                            <div class="flex items-start space-x-4">
                                <div class="p-3 bg-gradient-to-br from-green-500/20 to-emerald-500/20 rounded-xl border border-green-400/30">
                                    <svg class="h-6 w-6 text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path>
                                    </svg>
                                </div>
                                <div>
                                    <p class="text-sm text-white/60">已验证 Proof</p>
                                    <p class="text-3xl font-bold text-white">156</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 核心功能说明 -->
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                    <div class="glass rounded-xl p-6 border border-white/10 hover:border-blue-400/50 transition-all neon-glow-hover group">
                        <div class="p-3 bg-gradient-to-br from-blue-500/20 to-cyan-500/20 rounded-xl border border-blue-400/30 w-fit mb-4 group-hover:scale-110 transition-transform">
                            <svg class="h-8 w-8 text-blue-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"></path>
                            </svg>
                        </div>
                        <h3 class="text-lg font-semibold text-white mb-2">Proof（可验证）</h3>
                        <p class="text-white/70">
                            每项证据都有来源、快照日期和可信度等级，确保信息可追溯、可验证。
                        </p>
                    </div>
                    <div class="glass rounded-xl p-6 border border-white/10 hover:border-purple-400/50 transition-all neon-glow-hover group">
                        <div class="p-3 bg-gradient-to-br from-purple-500/20 to-pink-500/20 rounded-xl border border-purple-400/30 w-fit mb-4 group-hover:scale-110 transition-transform">
                            <svg class="h-8 w-8 text-purple-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path>
                            </svg>
                        </div>
                        <h3 class="text-lg font-semibold text-white mb-2">Ledger（风险账本）</h3>
                        <p class="text-white/70">
                            完整记录所有风险事件，按严重程度分类，支持时间线追溯和证据链接。
                        </p>
                    </div>
                    <div class="glass rounded-xl p-6 border border-white/10 hover:border-orange-400/50 transition-all neon-glow-hover group">
                        <div class="p-3 bg-gradient-to-br from-orange-500/20 to-red-500/20 rounded-xl border border-orange-400/30 w-fit mb-4 group-hover:scale-110 transition-transform">
                            <svg class="h-8 w-8 text-orange-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"></path>
                            </svg>
                        </div>
                        <h3 class="text-lg font-semibold text-white mb-2">Signals（风险预警）</h3>
                        <p class="text-white/70">
                            基于30天风险曲线，识别异常趋势和潜在风险信号，提前预警。
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Rankings Content -->
        <div id="rankingsContent" class="min-h-screen py-8 hidden">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <!-- 页面标题 -->
                <div class="mb-8">
                    <h1 class="text-3xl font-bold text-white mb-2">
                        交易所综合榜（Risk-first Quality Rank）
                    </h1>
                    <p class="text-white/70">不是谁最大，而是谁更透明、更稳、更可验证。</p>
                </div>

                <!-- 榜单表格 -->
                <div class="glass-strong rounded-2xl overflow-hidden neon-glow">
                    <div class="overflow-x-auto">
                        <table class="min-w-full divide-y divide-white/10">
                            <thead class="bg-white/5">
                                <tr>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-white/60 uppercase tracking-wider">排名</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-white/60 uppercase tracking-wider">交易所</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-white/60 uppercase tracking-wider">总分</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-white/60 uppercase tracking-wider">风险温度</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-white/60 uppercase tracking-wider">Proof</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-white/60 uppercase tracking-wider">90天事件</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-white/60 uppercase tracking-wider">流动性</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-white/60 uppercase tracking-wider">24H成交量</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-white/60 uppercase tracking-wider">操作</th>
                                </tr>
                            </thead>
                            <tbody class="divide-y divide-white/10">
                                <!-- Coinbase -->
                                <tr class="hover:bg-white/5 transition-colors">
                                    <td class="px-6 py-4 whitespace-nowrap"><span class="text-sm font-medium text-white">#1</span></td>
                                    <td class="px-6 py-4 whitespace-nowrap">
                                        <div class="flex items-center">
                                            <div class="h-8 w-8 rounded-full bg-gradient-to-br from-blue-500/30 to-cyan-500/30 border border-blue-400/50 flex items-center justify-center mr-3">
                                                <span class="text-xs font-medium text-blue-300">C</span>
                                            </div>
                                            <div>
                                                <div class="text-sm font-medium text-white">Coinbase</div>
                                                <div class="text-xs text-white/50">Coinbase</div>
                                            </div>
                                        </div>
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap"><span class="text-sm font-medium text-white">92.0</span></td>
                                    <td class="px-6 py-4">
                                        <div class="flex items-center space-x-2">
                                            <div class="flex-1 bg-white/10 rounded-full h-6 overflow-hidden">
                                                <div class="h-full bg-gradient-to-r from-green-500 to-emerald-500 rounded-full" style="width: 15%"></div>
                                            </div>
                                            <span class="px-3 py-1 rounded-full text-xs font-medium bg-green-500/20 text-green-300 border border-green-400/50 min-w-[3rem] text-center">低</span>
                                        </div>
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap">
                                        <span class="inline-flex items-center px-2.5 py-1 rounded-full border text-xs font-medium bg-green-500/20 text-green-300 border-green-400/50">✅ 已验证</span>
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-white">0</td>
                                    <td class="px-6 py-4 whitespace-nowrap"><span class="text-sm text-white">88</span></td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-white">$3.5B</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
                                        <button onclick="showExchangeDetail('coinbase')" class="px-4 py-2 bg-gradient-to-r from-purple-500/20 to-pink-500/20 border border-purple-400/50 text-purple-300 hover:from-purple-500/30 hover:to-pink-500/30 rounded-lg transition-all text-sm font-medium">查看</button>
                                    </td>
                                </tr>
                                <!-- Binance -->
                                <tr class="hover:bg-white/5 transition-colors">
                                    <td class="px-6 py-4 whitespace-nowrap"><span class="text-sm font-medium text-white">#2</span></td>
                                    <td class="px-6 py-4 whitespace-nowrap">
                                        <div class="flex items-center">
                                            <div class="h-8 w-8 rounded-full bg-gradient-to-br from-yellow-500/30 to-orange-500/30 border border-yellow-400/50 flex items-center justify-center mr-3">
                                                <span class="text-xs font-medium text-yellow-300">B</span>
                                            </div>
                                            <div>
                                                <div class="text-sm font-medium text-white">Binance</div>
                                                <div class="text-xs text-white/50">币安</div>
                                            </div>
                                        </div>
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap"><span class="text-sm font-medium text-white">85.5</span></td>
                                    <td class="px-6 py-4">
                                        <div class="flex items-center space-x-2">
                                            <div class="flex-1 bg-white/10 rounded-full h-6 overflow-hidden">
                                                <div class="h-full bg-gradient-to-r from-yellow-500 to-orange-500 rounded-full flex items-center justify-end pr-2" style="width: 25%">
                                                    <span class="text-xs font-medium text-white">25</span>
                                                </div>
                                            </div>
                                            <span class="px-3 py-1 rounded-full text-xs font-medium bg-yellow-500/20 text-yellow-300 border border-yellow-400/50 min-w-[3rem] text-center">中</span>
                                        </div>
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap">
                                        <span class="inline-flex items-center px-2.5 py-1 rounded-full border text-xs font-medium bg-green-500/20 text-green-300 border-green-400/50">✅ 已验证</span>
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-white">1</td>
                                    <td class="px-6 py-4 whitespace-nowrap"><span class="text-sm text-white">95</span></td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-white">$12.0B</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
                                        <button onclick="showExchangeDetail('binance')" class="px-4 py-2 bg-gradient-to-r from-purple-500/20 to-pink-500/20 border border-purple-400/50 text-purple-300 hover:from-purple-500/30 hover:to-pink-500/30 rounded-lg transition-all text-sm font-medium">查看</button>
                                    </td>
                                </tr>
                                <!-- Crypto.com -->
                                <tr class="hover:bg-white/5 transition-colors">
                                    <td class="px-6 py-4 whitespace-nowrap"><span class="text-sm font-medium text-white">#3</span></td>
                                    <td class="px-6 py-4 whitespace-nowrap">
                                        <div class="flex items-center">
                                            <div class="h-8 w-8 rounded-full bg-gradient-to-br from-cyan-500/30 to-blue-500/30 border border-cyan-400/50 flex items-center justify-center mr-3">
                                                <span class="text-xs font-medium text-cyan-300">C</span>
                                            </div>
                                            <div>
                                                <div class="text-sm font-medium text-white">Crypto.com</div>
                                                <div class="text-xs text-white/50">Crypto.com</div>
                                            </div>
                                        </div>
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap"><span class="text-sm font-medium text-white">82.0</span></td>
                                    <td class="px-6 py-4">
                                        <div class="flex items-center space-x-2">
                                            <div class="flex-1 bg-white/10 rounded-full h-6 overflow-hidden">
                                                <div class="h-full bg-gradient-to-r from-yellow-500 to-orange-500 rounded-full" style="width: 30%"></div>
                                            </div>
                                            <span class="px-3 py-1 rounded-full text-xs font-medium bg-yellow-500/20 text-yellow-300 border border-yellow-400/50 min-w-[3rem] text-center">中</span>
                                        </div>
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap">
                                        <span class="inline-flex items-center px-2.5 py-1 rounded-full border text-xs font-medium bg-green-500/20 text-green-300 border-green-400/50">✅ 已验证</span>
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-white">0</td>
                                    <td class="px-6 py-4 whitespace-nowrap"><span class="text-sm text-white">80</span></td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-white">$1.8B</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
                                        <button onclick="showExchangeDetail('crypto-com')" class="px-4 py-2 bg-gradient-to-r from-purple-500/20 to-pink-500/20 border border-purple-400/50 text-purple-300 hover:from-purple-500/30 hover:to-pink-500/30 rounded-lg transition-all text-sm font-medium">查看</button>
                                    </td>
                                </tr>
                                <!-- Kraken -->
                                <tr class="hover:bg-white/5 transition-colors">
                                    <td class="px-6 py-4 whitespace-nowrap"><span class="text-sm font-medium text-white">#4</span></td>
                                    <td class="px-6 py-4 whitespace-nowrap">
                                        <div class="flex items-center">
                                            <div class="h-8 w-8 rounded-full bg-gradient-to-br from-emerald-500/30 to-teal-500/30 border border-emerald-400/50 flex items-center justify-center mr-3">
                                                <span class="text-xs font-medium text-emerald-300">K</span>
                                            </div>
                                            <div>
                                                <div class="text-sm font-medium text-white">Kraken</div>
                                                <div class="text-xs text-white/50">Kraken</div>
                                            </div>
                                        </div>
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap"><span class="text-sm font-medium text-white">90.0</span></td>
                                    <td class="px-6 py-4">
                                        <div class="flex items-center space-x-2">
                                            <div class="flex-1 bg-white/10 rounded-full h-6 overflow-hidden">
                                                <div class="h-full bg-gradient-to-r from-green-500 to-emerald-500 rounded-full" style="width: 18%"></div>
                                            </div>
                                            <span class="px-3 py-1 rounded-full text-xs font-medium bg-green-500/20 text-green-300 border border-green-400/50 min-w-[3rem] text-center">低</span>
                                        </div>
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap">
                                        <span class="inline-flex items-center px-2.5 py-1 rounded-full border text-xs font-medium bg-green-500/20 text-green-300 border-green-400/50">✅ 已验证</span>
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-white">0</td>
                                    <td class="px-6 py-4 whitespace-nowrap"><span class="text-sm text-white">82</span></td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-white">$1.5B</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
                                        <button onclick="showExchangeDetail('kraken')" class="px-4 py-2 bg-gradient-to-r from-purple-500/20 to-pink-500/20 border border-purple-400/50 text-purple-300 hover:from-purple-500/30 hover:to-pink-500/30 rounded-lg transition-all text-sm font-medium">查看</button>
                                    </td>
                                </tr>
                                <!-- OKX -->
                                <tr class="hover:bg-white/5 transition-colors">
                                    <td class="px-6 py-4 whitespace-nowrap"><span class="text-sm font-medium text-white">#5</span></td>
                                    <td class="px-6 py-4 whitespace-nowrap">
                                        <div class="flex items-center">
                                            <div class="h-8 w-8 rounded-full bg-gradient-to-br from-indigo-500/30 to-purple-500/30 border border-indigo-400/50 flex items-center justify-center mr-3">
                                                <span class="text-xs font-medium text-indigo-300">O</span>
                                            </div>
                                            <div>
                                                <div class="text-sm font-medium text-white">OKX</div>
                                                <div class="text-xs text-white/50">欧易</div>
                                            </div>
                                        </div>
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap"><span class="text-sm font-medium text-white">80.0</span></td>
                                    <td class="px-6 py-4">
                                        <div class="flex items-center space-x-2">
                                            <div class="flex-1 bg-white/10 rounded-full h-6 overflow-hidden">
                                                <div class="h-full bg-gradient-to-r from-yellow-500 to-orange-500 rounded-full" style="width: 35%"></div>
                                            </div>
                                            <span class="px-3 py-1 rounded-full text-xs font-medium bg-yellow-500/20 text-yellow-300 border border-yellow-400/50 min-w-[3rem] text-center">中</span>
                                        </div>
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap">
                                        <span class="inline-flex items-center px-2.5 py-1 rounded-full border text-xs font-medium bg-green-500/20 text-green-300 border-green-400/50">✅ 已验证</span>
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-white">2</td>
                                    <td class="px-6 py-4 whitespace-nowrap"><span class="text-sm text-white">85</span></td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-white">$2.8B</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
                                        <button onclick="showExchangeDetail('okx')" class="px-4 py-2 bg-gradient-to-r from-purple-500/20 to-pink-500/20 border border-purple-400/50 text-purple-300 hover:from-purple-500/30 hover:to-pink-500/30 rounded-lg transition-all text-sm font-medium">查看</button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <!-- Exchange Detail Content -->
        <div id="detailContent" class="min-h-screen py-8 hidden">
            <!-- Back Button -->
            <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 mb-4">
                <button onclick="showRankings()" class="inline-flex items-center text-purple-300 hover:text-purple-200 transition-colors glass px-4 py-2 rounded-lg border border-purple-400/30">
                    <svg class="h-4 w-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
                    </svg>
                    返回榜单
                </button>
            </div>

            <!-- Exchange Detail Container -->
            <div id="exchangeDetailContainer" class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
                <!-- Content will be populated by JavaScript -->
            </div>
        </div>
    </div>

    <!-- JavaScript -->
    <script>
        // Exchange data
        const exchanges = {
            binance: {
                name: "Binance",
                cnName: "币安",
                aliases: "BN, 币安交易所",
                totalScore: 85.5,
                riskScore: 25,
                riskLevel: "中",
                riskColor: "yellow",
                porStatus: "✅ 已验证",
                incidents90d: 1,
                liquidityScore: 95,
                jurisdictions: "Global",
                volume24h: "$12.0B",
                oneLiner: "全球最大交易所，高流动性，PoR已验证，但近90天有1次提币异常",
                strengths: [
                    "24小时成交量全球第一，流动性极佳",
                    "PoR状态为已验证，透明度较高",
                    "在全球多个司法辖区持有合规牌照"
                ],
                concerns: [
                    "近90天发生1次提币异常事件",
                    "部分司法辖区合规状态存在争议",
                    "历史上有安全事件记录"
                ],
                proof: [
                    {
                        title: "Merkle Tree PoR 快照",
                        level: "A",
                        snapshotDate: "2024-01-15",
                        sourceName: "Binance官方",
                        sourceUrl: "https://example.com/binance-por-2024-01",
                        note: "最新的Merkle Tree储备证明，覆盖所有主要资产"
                    },
                    {
                        title: "第三方审计报告",
                        level: "A",
                        snapshotDate: "2024-01-10",
                        sourceName: "Mazars审计",
                        sourceUrl: "https://example.com/binance-audit-2024",
                        note: "由Mazars会计师事务所出具的储备证明审计报告"
                    },
                    {
                        title: "监管备案文件",
                        level: "B",
                        snapshotDate: "2023-12-20",
                        sourceName: "法国AMF",
                        sourceUrl: "https://example.com/binance-amf-2023",
                        note: "在法国AMF注册的加密货币服务提供商资质"
                    }
                ],
                ledger: [
                    {
                        id: "evt-1",
                        category: "Withdrawal",
                        severity: "S3",
                        status: "Resolved",
                        startDate: "2024-01-05",
                        endDate: "2024-01-06",
                        title: "ETH提币延迟异常",
                        impactNote: "部分用户ETH提币延迟长达6小时，官方解释为网络拥堵",
                        evidence: [
                            { sourceName: "Twitter用户报告", url: "https://example.com/twitter-withdrawal-issue", level: "B" }
                        ]
                    },
                    {
                        id: "evt-2",
                        category: "Security",
                        severity: "S2",
                        status: "Resolved",
                        startDate: "2023-12-15",
                        endDate: "2023-12-15",
                        title: "API密钥泄露报告",
                        impactNote: "少量用户报告API密钥可能泄露，官方建议重置",
                        evidence: [
                            { sourceName: "官方公告", url: "https://example.com/binance-api-warning", level: "A" }
                        ]
                    },
                    {
                        id: "evt-3",
                        category: "Compliance",
                        severity: "S4",
                        status: "Ongoing",
                        startDate: "2024-01-10",
                        title: "美国监管调查",
                        impactNote: "美国SEC持续调查合规问题，可能导致业务限制",
                        evidence: [
                            { sourceName: "SEC公告", url: "https://example.com/binance-sec-investigation", level: "A" }
                        ]
                    },
                    {
                        id: "evt-4",
                        category: "Outage",
                        severity: "S2",
                        status: "Resolved",
                        startDate: "2023-12-20",
                        endDate: "2023-12-20",
                        title: "短暂服务中断",
                        impactNote: "系统维护导致服务中断约30分钟",
                        evidence: [
                            { sourceName: "官方公告", url: "https://example.com/binance-maintenance", level: "A" }
                        ]
                    },
                    {
                        id: "evt-5",
                        category: "DataIntegrity",
                        severity: "S3",
                        status: "Disputed",
                        startDate: "2023-11-25",
                        title: "交易数据争议",
                        impactNote: "有用户质疑交易数据的准确性，官方否认",
                        evidence: [
                            { sourceName: "社区讨论", url: "https://example.com/binance-data-dispute", level: "C" }
                        ]
                    }
                ]
            },
            coinbase: {
                name: "Coinbase",
                cnName: "Coinbase",
                aliases: "COIN, Coinbase交易所",
                totalScore: 92.0,
                riskScore: 15,
                riskLevel: "低",
                riskColor: "green",
                porStatus: "✅ 已验证",
                incidents90d: 0,
                liquidityScore: 88,
                jurisdictions: "US, EU",
                volume24h: "$3.5B",
                oneLiner: "美国合规交易所，PoR完全透明，近90天无重大事件",
                strengths: [
                    "在美国SEC注册，合规性最强",
                    "纳斯达克上市公司，财务透明",
                    "PoR状态持续验证，风险极低"
                ],
                concerns: [
                    "流动性略低于头部交易所",
                    "主要服务于欧美市场",
                    "交易费用相对较高"
                ],
                proof: [
                    {
                        title: "月度PoR报告",
                        level: "A",
                        snapshotDate: "2024-01-20",
                        sourceName: "Coinbase官方",
                        sourceUrl: "https://example.com/coinbase-por-2024-01",
                        note: "每月定期发布的储备证明报告，详细列出所有资产"
                    },
                    {
                        title: "SEC季度报告",
                        level: "A",
                        snapshotDate: "2024-01-15",
                        sourceName: "SEC EDGAR",
                        sourceUrl: "https://example.com/coinbase-sec-10q",
                        note: "作为上市公司，定期向SEC提交10-Q季度报告"
                    },
                    {
                        title: "SOC 2 Type II审计",
                        level: "A",
                        snapshotDate: "2023-12-31",
                        sourceName: "Deloitte审计",
                        sourceUrl: "https://example.com/coinbase-soc2",
                        note: "由德勤出具的SOC 2 Type II安全和可用性审计"
                    }
                ],
                ledger: [
                    {
                        id: "evt-cb-1",
                        category: "Compliance",
                        severity: "S2",
                        status: "Resolved",
                        startDate: "2023-12-10",
                        endDate: "2023-12-12",
                        title: "监管文件提交延迟",
                        impactNote: "季度报告提交延迟2天，已补充提交",
                        evidence: [
                            { sourceName: "SEC EDGAR", url: "https://example.com/coinbase-sec-delay", level: "A" }
                        ]
                    },
                    {
                        id: "evt-cb-2",
                        category: "Outage",
                        severity: "S1",
                        status: "Resolved",
                        startDate: "2024-01-08",
                        endDate: "2024-01-08",
                        title: "API服务短暂中断",
                        impactNote: "API服务中断约10分钟，已恢复",
                        evidence: [
                            { sourceName: "官方状态页", url: "https://example.com/coinbase-status", level: "A" }
                        ]
                    },
                    {
                        id: "evt-cb-3",
                        category: "Security",
                        severity: "S2",
                        status: "Resolved",
                        startDate: "2023-11-20",
                        endDate: "2023-11-21",
                        title: "钓鱼网站警告",
                        impactNote: "发现大量仿冒Coinbase的钓鱼网站，官方发出警告",
                        evidence: [
                            { sourceName: "官方公告", url: "https://example.com/coinbase-phishing-warning", level: "A" }
                        ]
                    },
                    {
                        id: "evt-cb-4",
                        category: "Compliance",
                        severity: "S1",
                        status: "Resolved",
                        startDate: "2023-12-05",
                        endDate: "2023-12-05",
                        title: "KYC流程更新",
                        impactNote: "更新KYC要求，部分用户需要重新验证",
                        evidence: [
                            { sourceName: "官方公告", url: "https://example.com/coinbase-kyc-update", level: "A" }
                        ]
                    },
                    {
                        id: "evt-cb-5",
                        category: "DataIntegrity",
                        severity: "S1",
                        status: "Resolved",
                        startDate: "2023-11-15",
                        endDate: "2023-11-15",
                        title: "价格显示短暂异常",
                        impactNote: "部分交易对价格显示异常约5分钟，已修复",
                        evidence: [
                            { sourceName: "用户报告", url: "https://example.com/coinbase-price-issue", level: "B" }
                        ]
                    }
                ]
            },
            okx: {
                name: "OKX",
                cnName: "欧易",
                aliases: "OK, OKEx",
                totalScore: 80.0,
                riskScore: 35,
                riskLevel: "中",
                riskColor: "yellow",
                porStatus: "✅ 已验证",
                incidents90d: 2,
                liquidityScore: 85,
                jurisdictions: "Global, SG",
                volume24h: "$2.8B",
                oneLiner: "主流交易所，PoR已验证，但近90天有2次安全事件",
                strengths: [
                    "24小时成交量排名前列，流动性良好",
                    "PoR状态为已验证",
                    "在多个司法辖区运营"
                ],
                concerns: [
                    "近90天发生2次安全相关事件",
                    "历史上有提币限制记录",
                    "部分司法辖区合规状态不明确"
                ],
                proof: [
                    {
                        title: "Merkle Tree PoR",
                        level: "A",
                        snapshotDate: "2024-01-18",
                        sourceName: "OKX官方",
                        sourceUrl: "https://example.com/okx-por-2024-01",
                        note: "Merkle Tree储备证明，覆盖BTC、ETH等主要资产"
                    },
                    {
                        title: "第三方审计",
                        level: "B",
                        snapshotDate: "2024-01-12",
                        sourceName: "Armanino审计",
                        sourceUrl: "https://example.com/okx-armanino",
                        note: "Armanino出具的储备证明审计"
                    },
                    {
                        title: "监管许可",
                        level: "B",
                        snapshotDate: "2023-12-15",
                        sourceName: "新加坡MAS",
                        sourceUrl: "https://example.com/okx-mas",
                        note: "在新加坡MAS的加密货币服务许可"
                    }
                ],
                ledger: [
                    {
                        id: "evt-okx-1",
                        category: "Security",
                        severity: "S4",
                        status: "Resolved",
                        startDate: "2024-01-12",
                        endDate: "2024-01-13",
                        title: "可疑账户活动",
                        impactNote: "检测到可疑账户活动，临时冻结部分账户进行调查",
                        evidence: [
                            { sourceName: "官方公告", url: "https://example.com/okx-security-incident", level: "A" }
                        ]
                    },
                    {
                        id: "evt-okx-2",
                        category: "Withdrawal",
                        severity: "S3",
                        status: "Resolved",
                        startDate: "2023-12-25",
                        endDate: "2023-12-26",
                        title: "BTC提币延迟",
                        impactNote: "部分用户BTC提币延迟，官方解释为网络拥堵",
                        evidence: [
                            { sourceName: "用户报告", url: "https://example.com/okx-withdrawal-delay", level: "B" }
                        ]
                    },
                    {
                        id: "evt-okx-3",
                        category: "Outage",
                        severity: "S2",
                        status: "Resolved",
                        startDate: "2024-01-02",
                        endDate: "2024-01-02",
                        title: "系统维护中断",
                        impactNote: "计划维护导致服务中断约1小时",
                        evidence: [
                            { sourceName: "官方公告", url: "https://example.com/okx-maintenance", level: "A" }
                        ]
                    },
                    {
                        id: "evt-okx-4",
                        category: "DataIntegrity",
                        severity: "S3",
                        status: "Disputed",
                        startDate: "2023-12-10",
                        title: "交易数据质疑",
                        impactNote: "用户质疑部分交易数据的准确性",
                        evidence: [
                            { sourceName: "社区讨论", url: "https://example.com/okx-data-dispute", level: "C" }
                        ]
                    },
                    {
                        id: "evt-okx-5",
                        category: "Compliance",
                        severity: "S2",
                        status: "Resolved",
                        startDate: "2023-11-28",
                        endDate: "2023-11-30",
                        title: "监管文件更新",
                        impactNote: "更新用户协议和监管披露文件",
                        evidence: [
                            { sourceName: "官方公告", url: "https://example.com/okx-terms-update", level: "A" }
                        ]
                    }
                ]
            },
            kraken: {
                name: "Kraken",
                cnName: "Kraken",
                aliases: "Kraken交易所",
                totalScore: 90.0,
                riskScore: 18,
                riskLevel: "低",
                riskColor: "green",
                porStatus: "✅ 已验证",
                incidents90d: 0,
                liquidityScore: 82,
                jurisdictions: "US, EU, Global",
                volume24h: "$1.5B",
                oneLiner: "老牌合规交易所，PoR完全透明，近90天无重大事件",
                strengths: [
                    "在美国注册，合规性高",
                    "PoR状态持续验证",
                    "历史上安全事故少"
                ],
                concerns: [
                    "流动性中等",
                    "主要服务于欧美用户",
                    "交易对相对较少"
                ],
                proof: [
                    {
                        title: "实时PoR证明",
                        level: "A",
                        snapshotDate: "2024-01-19",
                        sourceName: "Kraken官方",
                        sourceUrl: "https://example.com/kraken-por-2024-01",
                        note: "实时更新的储备证明，可随时验证"
                    },
                    {
                        title: "CFTC注册",
                        level: "A",
                        snapshotDate: "2023-12-01",
                        sourceName: "CFTC",
                        sourceUrl: "https://example.com/kraken-cftc",
                        note: "在CFTC注册为期货佣金商"
                    },
                    {
                        title: "SOC 2审计",
                        level: "A",
                        snapshotDate: "2023-11-30",
                        sourceName: "第三方审计",
                        sourceUrl: "https://example.com/kraken-soc2",
                        note: "SOC 2 Type II安全和可用性审计"
                    }
                ],
                ledger: [
                    {
                        id: "evt-kr-1",
                        category: "Outage",
                        severity: "S1",
                        status: "Resolved",
                        startDate: "2024-01-05",
                        endDate: "2024-01-05",
                        title: "API短暂中断",
                        impactNote: "API服务中断约15分钟",
                        evidence: [
                            { sourceName: "官方状态页", url: "https://example.com/kraken-status", level: "A" }
                        ]
                    },
                    {
                        id: "evt-kr-2",
                        category: "Security",
                        severity: "S2",
                        status: "Resolved",
                        startDate: "2023-12-18",
                        endDate: "2023-12-18",
                        title: "安全更新公告",
                        impactNote: "发布安全更新，建议用户更新2FA设置",
                        evidence: [
                            { sourceName: "官方公告", url: "https://example.com/kraken-security-update", level: "A" }
                        ]
                    },
                    {
                        id: "evt-kr-3",
                        category: "Compliance",
                        severity: "S1",
                        status: "Resolved",
                        startDate: "2023-12-01",
                        endDate: "2023-12-01",
                        title: "监管文件更新",
                        impactNote: "更新监管披露文件",
                        evidence: [
                            { sourceName: "官方公告", url: "https://example.com/kraken-compliance-update", level: "A" }
                        ]
                    },
                    {
                        id: "evt-kr-4",
                        category: "Withdrawal",
                        severity: "S1",
                        status: "Resolved",
                        startDate: "2023-11-22",
                        endDate: "2023-11-22",
                        title: "提币处理延迟",
                        impactNote: "部分提币处理延迟，已恢复正常",
                        evidence: [
                            { sourceName: "用户报告", url: "https://example.com/kraken-withdrawal-delay", level: "B" }
                        ]
                    },
                    {
                        id: "evt-kr-5",
                        category: "DataIntegrity",
                        severity: "S1",
                        status: "Resolved",
                        startDate: "2023-11-10",
                        endDate: "2023-11-10",
                        title: "价格显示短暂异常",
                        impactNote: "部分交易对价格显示异常约3分钟",
                        evidence: [
                            { sourceName: "用户报告", url: "https://example.com/kraken-price-issue", level: "B" }
                        ]
                    }
                ]
            },
            "crypto-com": {
                name: "Crypto.com",
                cnName: "Crypto.com",
                aliases: "CRO, Crypto.com交易所",
                totalScore: 82.0,
                riskScore: 30,
                riskLevel: "中",
                riskColor: "yellow",
                porStatus: "✅ 已验证",
                incidents90d: 0,
                liquidityScore: 80,
                jurisdictions: "SG, US, EU, Global",
                volume24h: "$1.8B",
                oneLiner: "品牌交易所，PoR已验证，合规性强，近90天无重大事件",
                strengths: [
                    "品牌知名度高",
                    "PoR状态为已验证",
                    "在多个司法辖区合规运营"
                ],
                concerns: [
                    "流动性略低于头部交易所",
                    "交易费用相对较高",
                    "部分功能受限"
                ],
                proof: [
                    {
                        title: "Merkle Tree PoR",
                        level: "A",
                        snapshotDate: "2024-01-17",
                        sourceName: "Crypto.com官方",
                        sourceUrl: "https://example.com/crypto-por-2024-01",
                        note: "Merkle Tree储备证明，定期更新"
                    },
                    {
                        title: "第三方审计",
                        level: "A",
                        snapshotDate: "2024-01-10",
                        sourceName: "Armanino审计",
                        sourceUrl: "https://example.com/crypto-armanino",
                        note: "Armanino出具的储备证明审计"
                    },
                    {
                        title: "监管许可",
                        level: "A",
                        snapshotDate: "2023-12-20",
                        sourceName: "新加坡MAS",
                        sourceUrl: "https://example.com/crypto-mas",
                        note: "在新加坡MAS获得主要支付机构许可"
                    }
                ],
                ledger: [
                    {
                        id: "evt-cro-1",
                        category: "Security",
                        severity: "S1",
                        status: "Resolved",
                        startDate: "2023-12-15",
                        endDate: "2023-12-15",
                        title: "安全更新",
                        impactNote: "发布安全更新，建议用户更新2FA",
                        evidence: [
                            { sourceName: "官方公告", url: "https://example.com/crypto-security-update", level: "A" }
                        ]
                    },
                    {
                        id: "evt-cro-2",
                        category: "Outage",
                        severity: "S1",
                        status: "Resolved",
                        startDate: "2024-01-02",
                        endDate: "2024-01-02",
                        title: "API短暂中断",
                        impactNote: "API服务中断约10分钟",
                        evidence: [
                            { sourceName: "官方状态页", url: "https://example.com/crypto-status", level: "A" }
                        ]
                    },
                    {
                        id: "evt-cro-3",
                        category: "Compliance",
                        severity: "S1",
                        status: "Resolved",
                        startDate: "2023-12-01",
                        endDate: "2023-12-01",
                        title: "监管文件更新",
                        impactNote: "更新监管披露文件",
                        evidence: [
                            { sourceName: "官方公告", url: "https://example.com/crypto-compliance-update", level: "A" }
                        ]
                    },
                    {
                        id: "evt-cro-4",
                        category: "Withdrawal",
                        severity: "S1",
                        status: "Resolved",
                        startDate: "2023-11-18",
                        endDate: "2023-11-18",
                        title: "提币处理延迟",
                        impactNote: "部分提币处理延迟，已恢复正常",
                        evidence: [
                            { sourceName: "用户报告", url: "https://example.com/crypto-withdrawal-delay", level: "B" }
                        ]
                    },
                    {
                        id: "evt-cro-5",
                        category: "DataIntegrity",
                        severity: "S1",
                        status: "Resolved",
                        startDate: "2023-11-05",
                        endDate: "2023-11-05",
                        title: "价格显示短暂异常",
                        impactNote: "部分交易对价格显示异常约3分钟",
                        evidence: [
                            { sourceName: "用户报告", url: "https://example.com/crypto-price-issue", level: "B" }
                        ]
                    }
                ]
            }
        };

        // Navigation functions
        function showHome() {
            document.getElementById('homeContent').classList.remove('hidden');
            document.getElementById('rankingsContent').classList.add('hidden');
            document.getElementById('detailContent').classList.add('hidden');
        }

        function showRankings() {
            document.getElementById('homeContent').classList.add('hidden');
            document.getElementById('rankingsContent').classList.remove('hidden');
            document.getElementById('detailContent').classList.add('hidden');
        }

        // 全局变量存储当前交易所slug
        let currentExchangeSlug = '';

        // 辅助函数：格式化日期
        function formatDate(dateString) {
            const date = new Date(dateString);
            return date.toLocaleDateString('zh-CN', { year: 'numeric', month: 'long', day: 'numeric' });
        }

        // 辅助函数：获取级别颜色
        function getLevelColor(level) {
            switch(level) {
                case 'A': return 'bg-green-100 text-green-700 border-green-300';
                case 'B': return 'bg-yellow-100 text-yellow-700 border-yellow-300';
                case 'C': return 'bg-red-100 text-red-700 border-red-300';
                default: return 'bg-gray-100 text-gray-700 border-gray-300';
            }
        }

        // 辅助函数：获取严重程度配置
        function getSeverityConfig(severity) {
            const configs = {
                'S1': { color: 'bg-blue-100 text-blue-700 border-blue-300', label: 'S1 轻微' },
                'S2': { color: 'bg-green-100 text-green-700 border-green-300', label: 'S2 低' },
                'S3': { color: 'bg-yellow-100 text-yellow-700 border-yellow-300', label: 'S3 中' },
                'S4': { color: 'bg-orange-100 text-orange-700 border-orange-300', label: 'S4 高' },
                'S5': { color: 'bg-red-100 text-red-700 border-red-300', label: 'S5 严重' }
            };
            return configs[severity] || configs['S1'];
        }

        // 辅助函数：获取状态配置
        function getStatusConfig(status) {
            const configs = {
                'Ongoing': { color: 'text-orange-600', label: '进行中', icon: '🟠' },
                'Resolved': { color: 'text-green-600', label: '已解决', icon: '✓' },
                'Disputed': { color: 'text-red-600', label: '有争议', icon: '⚠' }
            };
            return configs[status] || configs['Resolved'];
        }

        // 辅助函数：获取类别标签
        function getCategoryLabel(category) {
            const labels = {
                'Security': '安全',
                'Withdrawal': '提币',
                'Compliance': '合规',
                'Outage': '服务中断',
                'DataIntegrity': '数据完整性'
            };
            return labels[category] || category;
        }

        // 切换Tab函数
        function switchTab(tabName) {
            currentExchangeSlug = currentExchangeSlug || window.currentExchangeSlug;
            const exchange = exchanges[currentExchangeSlug];
            if (!exchange) return;

            const tabContent = document.getElementById('tabContent');
            const tabButtons = document.querySelectorAll('[data-tab]');
            
            // 更新按钮状态
            tabButtons.forEach(btn => {
                const btnTab = btn.getAttribute('data-tab');
                if (btnTab === tabName) {
                    btn.classList.remove('border-transparent', 'text-gray-500');
                    btn.classList.add('border-blue-500', 'text-blue-600');
                } else {
                    btn.classList.remove('border-blue-500', 'text-blue-600');
                    btn.classList.add('border-transparent', 'text-gray-500');
                }
            });

            // 生成对应Tab的内容
            let content = '';
            if (tabName === 'overview') {
                content = generateOverviewTab(exchange);
            } else if (tabName === 'proof') {
                content = generateProofTab(exchange);
            } else if (tabName === 'ledger') {
                content = generateLedgerTab(exchange);
            } else if (tabName === 'signals') {
                content = generateSignalsTab(exchange);
            } else if (tabName === 'method') {
                content = generateMethodTab(exchange);
            }
            
            tabContent.innerHTML = content;
        }

        // 生成概览Tab内容
        function generateOverviewTab(exchange) {
            return `
                <div class="space-y-6">
                    <div class="bg-blue-50 border border-blue-200 rounded-lg p-6">
                        <h3 class="text-lg font-semibold text-blue-900 mb-2">结论</h3>
                        <p class="text-blue-800">${exchange.oneLiner}</p>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                        <div class="bg-gray-50 rounded-lg p-4 border border-gray-200">
                            <div class="text-sm text-gray-500 mb-1">24小时成交量</div>
                            <div class="text-2xl font-bold text-gray-900">${exchange.volume24h}</div>
                        </div>
                        <div class="bg-gray-50 rounded-lg p-4 border border-gray-200">
                            <div class="text-sm text-gray-500 mb-1">流动性评分</div>
                            <div class="text-2xl font-bold text-gray-900">${exchange.liquidityScore}</div>
                        </div>
                        <div class="bg-gray-50 rounded-lg p-4 border border-gray-200">
                            <div class="text-sm text-gray-500 mb-1">交易所类型</div>
                            <div class="text-2xl font-bold text-gray-900">CEX</div>
                        </div>
                    </div>
                    <div>
                        <h3 class="text-lg font-semibold text-gray-900 mb-3">优势</h3>
                        <ul class="space-y-2">
                            ${exchange.strengths.map(s => `<li class="flex items-start"><span class="text-green-500 mr-2">✓</span><span class="text-gray-700">${s}</span></li>`).join('')}
                        </ul>
                    </div>
                    <div>
                        <h3 class="text-lg font-semibold text-gray-900 mb-3">关注点</h3>
                        <ul class="space-y-2">
                            ${exchange.concerns.map(c => `<li class="flex items-start"><span class="text-orange-500 mr-2">⚠</span><span class="text-gray-700">${c}</span></li>`).join('')}
                        </ul>
                    </div>
                </div>
            `;
        }

        // 生成Proof Tab内容
        function generateProofTab(exchange) {
            if (!exchange.proof || exchange.proof.length === 0) {
                return '<div class="text-center py-12 text-gray-500"><p>暂无Proof记录</p></div>';
            }
            return `
                <div class="space-y-4">
                    ${exchange.proof.map(p => `
                        <div class="border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow">
                            <div class="flex items-start justify-between mb-4">
                                <div class="flex-1">
                                    <h3 class="text-lg font-semibold text-gray-900 mb-2">${p.title}</h3>
                                    <div class="flex items-center space-x-4 text-sm text-gray-500 mb-2">
                                        <span>快照日期: ${formatDate(p.snapshotDate)}</span>
                                        <span>来源: ${p.sourceName}</span>
                                    </div>
                                    <p class="text-gray-700">${p.note}</p>
                                </div>
                                <span class="px-3 py-1 rounded-full text-xs font-medium border ${getLevelColor(p.level)}">
                                    可信度 ${p.level}
                                </span>
                            </div>
                            <a href="${p.sourceUrl}" target="_blank" rel="noopener noreferrer" class="inline-flex items-center space-x-2 text-blue-600 hover:text-blue-800 text-sm font-medium">
                                <span>查看证据</span>
                                <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"></path>
                                </svg>
                            </a>
                        </div>
                    `).join('')}
                </div>
            `;
        }

        // 生成Ledger Tab内容
        function generateLedgerTab(exchange) {
            if (!exchange.ledger || exchange.ledger.length === 0) {
                return '<div class="text-center py-12 text-gray-500"><p>暂无风险事件记录</p></div>';
            }
            const sortedEvents = [...exchange.ledger].sort((a, b) => new Date(b.startDate) - new Date(a.startDate));
            return `
                <div class="space-y-6">
                    ${sortedEvents.map((event, index) => {
                        const severity = getSeverityConfig(event.severity);
                        const status = getStatusConfig(event.status);
                        const categoryLabel = getCategoryLabel(event.category);
                        return `
                            <div class="relative pl-8 border-l-2 border-gray-200 ${index < sortedEvents.length - 1 ? 'pb-8' : ''}">
                                <div class="absolute -left-2 top-0 h-4 w-4 rounded-full bg-gray-400 border-2 border-white"></div>
                                <div class="bg-white rounded-lg border border-gray-200 p-6 shadow-sm hover:shadow-md transition-shadow">
                                    <div class="flex items-start justify-between mb-4">
                                        <div class="flex-1">
                                            <div class="flex items-center space-x-2 mb-2">
                                                <h3 class="text-lg font-semibold text-gray-900">${event.title}</h3>
                                            </div>
                                            <div class="flex items-center space-x-4 text-sm text-gray-500">
                                                <span>${formatDate(event.startDate)}</span>
                                                ${event.endDate ? `<span>至 ${formatDate(event.endDate)}</span>` : ''}
                                                ${!event.endDate && event.status === 'Ongoing' ? '<span class="text-orange-600">进行中</span>' : ''}
                                            </div>
                                        </div>
                                    </div>
                                    <div class="flex items-center space-x-2 mb-4">
                                        <span class="px-3 py-1 rounded-full text-xs font-medium border ${severity.color}">${severity.label}</span>
                                        <span class="px-3 py-1 rounded-full text-xs font-medium border bg-gray-50 ${status.color}">
                                            ${status.icon} ${status.label}
                                        </span>
                                        <span class="px-3 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-700 border border-gray-300">${categoryLabel}</span>
                                    </div>
                                    <div class="mb-4">
                                        <p class="text-gray-700 leading-relaxed">${event.impactNote}</p>
                                    </div>
                                    ${event.evidence && event.evidence.length > 0 ? `
                                        <div class="border-t border-gray-200 pt-4">
                                            <h4 class="text-sm font-medium text-gray-900 mb-2">证据链接</h4>
                                            <div class="space-y-2">
                                                ${event.evidence.map(ev => `
                                                    <a href="${ev.url}" target="_blank" rel="noopener noreferrer" class="inline-flex items-center space-x-2 text-blue-600 hover:text-blue-800 text-sm">
                                                        <span>${ev.sourceName}</span>
                                                        <span class="px-2 py-0.5 rounded text-xs bg-gray-100 text-gray-600">${ev.level}</span>
                                                        <svg class="h-3 w-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"></path>
                                                        </svg>
                                                    </a>
                                                `).join('')}
                                            </div>
                                        </div>
                                    ` : ''}
                                </div>
                            </div>
                        `;
                    }).join('')}
                </div>
            `;
        }

        // 生成Signals Tab内容（简化版，后续可扩展）
        function generateSignalsTab(exchange) {
            return `
                <div class="space-y-6">
                    <div class="bg-gray-50 border border-gray-200 rounded-lg p-6">
                        <h3 class="text-lg font-semibold text-gray-900 mb-4">风险信号（30天趋势）</h3>
                        <p class="text-gray-600 mb-4">基于30天的风险评分数据，识别异常趋势和潜在风险信号。</p>
                        <div class="bg-blue-50 border border-blue-200 rounded-lg p-4">
                            <p class="text-sm text-blue-800">当前风险温度: <span class="font-semibold">${exchange.riskScore}</span> (${exchange.riskLevel})</p>
                            <p class="text-sm text-blue-700 mt-2">近90天事件数: ${exchange.incidents90d}</p>
                        </div>
                    </div>
                </div>
            `;
        }

        // 生成方法论Tab内容
        function generateMethodTab(exchange) {
            const baseQuality = Math.round(exchange.totalScore * 0.9);
            const riskPenalty = exchange.riskScore / 100;
            const proofBonus = exchange.porStatus === "✅ 已验证" ? 12 : 6;
            const calculatedTotal = Math.round(baseQuality * (1 - riskPenalty) + proofBonus);
            return `
                <div class="space-y-6">
                    <div>
                        <h3 class="text-lg font-semibold text-gray-900 mb-4">评分公式</h3>
                        <div class="bg-gray-50 rounded-lg p-6 border border-gray-200 mb-4">
                            <p class="text-lg font-medium text-gray-900 mb-2">
                                Total Score = Base Quality × (1 - Risk Penalty) + Proof Bonus
                            </p>
                        </div>
                        <div class="space-y-4">
                            <div class="border border-gray-200 rounded-lg p-4">
                                <h4 class="font-semibold text-gray-900 mb-2">Base Quality（基础质量）</h4>
                                <p class="text-gray-700 mb-2">评估交易所的基础质量，包括流动性、成交结构、稳定性和规模代理等因素。</p>
                                <div class="text-2xl font-bold text-gray-900">${baseQuality}</div>
                            </div>
                            <div class="border border-gray-200 rounded-lg p-4">
                                <h4 class="font-semibold text-gray-900 mb-2">Risk Penalty（风险惩罚）</h4>
                                <p class="text-gray-700 mb-2">根据Ledger记录的严重程度和时间衰减，以及Signals显示的上升趋势计算。</p>
                                <div class="text-2xl font-bold text-gray-900">${riskPenalty.toFixed(2)} (${(riskPenalty * 100).toFixed(0)}%)</div>
                            </div>
                            <div class="border border-gray-200 rounded-lg p-4">
                                <h4 class="font-semibold text-gray-900 mb-2">Proof Bonus（Proof奖励）</h4>
                                <p class="text-gray-700 mb-2">根据PoR状态、审计情况和透明度维护情况给予奖励。</p>
                                <div class="text-2xl font-bold text-green-600">+${proofBonus}</div>
                            </div>
                            <div class="border-2 border-blue-500 rounded-lg p-4 bg-blue-50">
                                <h4 class="font-semibold text-gray-900 mb-2">Total Score（总分）</h4>
                                <div class="text-3xl font-bold text-gray-900">${calculatedTotal} ≈ ${exchange.totalScore}</div>
                                <p class="text-sm text-gray-600 mt-2">${baseQuality} × (1 - ${riskPenalty.toFixed(2)}) + ${proofBonus} = ${calculatedTotal}</p>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        function showExchangeDetail(slug) {
            const exchange = exchanges[slug];
            if (!exchange) return;

            currentExchangeSlug = slug;
            window.currentExchangeSlug = slug;

            document.getElementById('homeContent').classList.add('hidden');
            document.getElementById('rankingsContent').classList.add('hidden');
            document.getElementById('detailContent').classList.remove('hidden');

            const container = document.getElementById('exchangeDetailContainer');
            container.innerHTML = `
                <!-- Hero Section -->
                <div class="bg-white rounded-xl shadow-sm border border-gray-200 p-8 mb-8">
                    <div class="flex items-start justify-between mb-6">
                        <div>
                            <h1 class="text-3xl font-bold text-gray-900 mb-2">${exchange.name}</h1>
                            <p class="text-gray-600">${exchange.cnName}</p>
                            <p class="text-sm text-gray-500 mt-1">别名: ${exchange.aliases}</p>
                        </div>
                        <div class="text-right">
                            <div class="text-5xl font-bold text-gray-900 mb-2">${exchange.totalScore}</div>
                            <div class="text-sm text-gray-500">总分</div>
                        </div>
                    </div>

                    <!-- 风险温度计 -->
                    <div class="mb-6">
                        <div class="flex items-center justify-between mb-2">
                            <span class="text-sm font-medium text-gray-700">风险温度</span>
                            <span class="text-2xl font-bold text-gray-900">${exchange.riskScore}</span>
                        </div>
                        <div class="flex items-center space-x-2">
                            <div class="flex-1 bg-gray-200 rounded-full h-6 overflow-hidden">
                                <div class="h-full bg-${exchange.riskColor}-500 rounded-full flex items-center justify-end pr-2" style="width: ${exchange.riskScore}%">
                                    <span class="text-xs font-medium text-white">${exchange.riskScore}</span>
                                </div>
                            </div>
                            <span class="px-3 py-1 rounded-full text-xs font-medium bg-${exchange.riskColor}-100 text-${exchange.riskColor}-700 min-w-[3rem] text-center">${exchange.riskLevel}</span>
                        </div>
                    </div>

                    <!-- 关键徽章 -->
                    <div class="flex flex-wrap items-center gap-4 pt-4 border-t border-gray-200">
                        <div>
                            <span class="text-xs text-gray-500 block mb-1">PoR状态</span>
                            <span class="inline-flex items-center px-2.5 py-1 rounded-full border text-xs font-medium bg-green-100 text-green-700 border-green-300">${exchange.porStatus}</span>
                        </div>
                        <div>
                            <span class="text-xs text-gray-500 block mb-1">近90天事件</span>
                            <span class="text-lg font-semibold text-gray-900">${exchange.incidents90d}</span>
                        </div>
                        <div>
                            <span class="text-xs text-gray-500 block mb-1">流动性评分</span>
                            <span class="text-lg font-semibold text-gray-900">${exchange.liquidityScore}</span>
                        </div>
                        <div>
                            <span class="text-xs text-gray-500 block mb-1">司法辖区</span>
                            <span class="text-sm font-medium text-gray-700">${exchange.jurisdictions}</span>
                        </div>
                    </div>
                </div>

                <!-- Tabs -->
                <div class="bg-white rounded-xl shadow-sm border border-gray-200 mb-8">
                    <div class="border-b border-gray-200">
                        <nav class="flex space-x-8 px-6">
                            <button data-tab="overview" onclick="switchTab('overview')" class="py-4 px-1 border-b-2 font-medium text-sm border-blue-500 text-blue-600">
                                概览
                            </button>
                            <button data-tab="proof" onclick="switchTab('proof')" class="py-4 px-1 border-b-2 font-medium text-sm border-transparent text-gray-500 hover:text-gray-700">
                                Proof
                            </button>
                            <button data-tab="ledger" onclick="switchTab('ledger')" class="py-4 px-1 border-b-2 font-medium text-sm border-transparent text-gray-500 hover:text-gray-700">
                                Ledger
                            </button>
                            <button data-tab="signals" onclick="switchTab('signals')" class="py-4 px-1 border-b-2 font-medium text-sm border-transparent text-gray-500 hover:text-gray-700">
                                Signals
                            </button>
                            <button data-tab="method" onclick="switchTab('method')" class="py-4 px-1 border-b-2 font-medium text-sm border-transparent text-gray-500 hover:text-gray-700">
                                方法论
                            </button>
                        </nav>
                    </div>

                    <!-- Tab Content -->
                    <div id="tabContent" class="p-8">
                        ${generateOverviewTab(exchange)}
                    </div>
                </div>
            `;
        }

        // Initialize - show home by default
        showHome();
    </script>
</body>
</html>
